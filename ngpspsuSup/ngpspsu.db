record(bo, "$(P)DISABLE"){
    field(DESC, "Disable comms")
    field(PINI, "YES")
    field(VAL, "$(DISABLE=0)")
    field(OMSL, "supervisory")
    field(ZNAM, "COMMS ENABLED")
    field(ONAM, "COMMS DISABLED")
}

record (stringin, "$(P)VERSION"){
	field(DESC, "Model number and firmware version")
    field(DTYP, "stream")
	field(INP,  "@ngpspsu.proto get_version($(P)) $(PORT)")
	
	field(SDIS, "$(P)DISABLE")
}

# ON/OFF records

record (bo, "$(P)START") {
    field(DESC, "Turns on the module")
    field(DTYP, "stream")
    field(OUT,  "@ngpspsu.proto start($(P)) $(PORT)")
    
    info(INTEREST, "HIGH")
    field(SDIS, "$(P)DISABLE")
}

record (bo, "$(P)STOP") {
    field(DESC, "Turns off the module")
    field(DTYP, "stream")
    field(OUT,  "@ngpspsu.proto stop($(P)) $(PORT)")
    
    info(INTEREST, "HIGH")
    field(SDIS, "$(P)DISABLE")
}

# Status records  

record(bo, "$(P)READ:STAT"){
    field(DESC, "Reads the status of the device.")
    field(SCAN, "1 second")
    field(OUT, "@ngpspsu.proto read_status($(P)) $(PORT)")
    field(DTYP, "stream")
    field(SDIS, "$(P)DISABLE")
}

record(bi, "$(P)STAT:ON_OFF") {
	field(DESC, "On/off status")
	field(INP, "$(P)STAT:HEX:1.B0 CP MS")
	field(ZNAM, "OFF")
	field(ONAM, "ON")
    
	info(ARCHIVE, "VAL")
	info(INTEREST, "MEDIUM")
    field(SDIS, "$(P)DISABLE")
}

#
# All Status Hex character PVs can be found in status_hex.db
#

# Error records

record(stringin, "$(P)ERROR") {
	field(DESC, "Catches error codes.")
    field(DTYP, "Soft Channel")
    field(SCAN, "Passive") # Only triggered by mismatch handler
    field(PINI, "YES")
    field(VAL, "0")
    
    
	info(ARCHIVE, "VAL")
	info(INTEREST, "HIGH")
    field(SDIS, "$(P)DISABLE")
}
